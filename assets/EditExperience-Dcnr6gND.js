import{d as D,ap as P,r as n,u as k,j as s,aq as I,o as w,ar as f,as as M,n as V}from"./index-XqE_m-q9.js";import{r as N,a as U,M as W}from"./MonthYearPicker-BG2c3luX.js";import{M as q,E as B}from"./MainEditWrapper-Z77TlRuW.js";import{U as u}from"./Inputs-D1I08rEC.js";import{b as g}from"./index.esm-CXlr8-Yg.js";import"./button.esm-CGs7GssB.js";import"./inputtext.esm-CLK3QdkL.js";const K=()=>{const c=D(t=>P(t)),{data:h,editedId:d}=c,j={id:d,duration:"",isYear:!1,isPresent:!1,employer:"",jobTitle:"",location:"",description:"<p>Your Description</p>"},[e,a]=n.useState(h.find(t=>t.id===d)||j),[o,E]=n.useState(e.description);n.useEffect(()=>{a({...e,description:o})},[o]);const[r,v]=n.useState(null),{isYear:l,isPresent:i}=e;n.useEffect(()=>{var t;r&&!e.isPresent&&a({...e,duration:((t=p.current)==null?void 0:t.value)||e.duration})},[r,e.isYear,e.isPresent]),n.useEffect(()=>{var t;r&&e.isPresent&&a({...e,duration:((t=x.current)==null?void 0:t.value)||e.duration})},[r,e.isYear,e.isPresent]);const S=()=>{a({...e,isYear:!l})},p=n.useRef(null),x=n.useRef(null),b=()=>{a({...e,isPresent:!i})},[R,T]=n.useState(null),[y,C]=n.useState(null);n.useEffect(()=>{i&&e.duration&&T(N(e.duration)),!i&&e.duration&&C(U(e.duration))},[]);const m=k(),Y=t=>{t.preventDefault(),m(M({experience:e})),m(V(""))};return s.jsx(q,{onSubmit:Y,style:{width:"90%"},preview:s.jsx(I,{experienceItem:e,children:s.jsx(w,{text:c.title})}),edit:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:f.inputs,children:[s.jsx(u,{label:"job title",value:e.jobTitle,onChange:t=>a({...e,jobTitle:t.currentTarget.value})}),s.jsx(u,{label:"employer",value:e.employer,onChange:t=>a({...e,employer:t.currentTarget.value})})]}),s.jsxs("div",{className:f.inputs,children:[s.jsxs(W,{duration:r,setDuration:v,isYear:l,inputRefRangeDates:p,inputRefSingleDate:x,isPresent:i,rangeValue:y,singleValue:R,children:[s.jsx(g,{checked:l,onChange:S,title:"Currently only Year"}),s.jsx(g,{checked:i,onChange:b,title:"Currently work here"})]}),s.jsx(u,{label:"location",value:e.location,onChange:t=>a({...e,location:t.currentTarget.value})})]}),s.jsx(B,{text:o,setText:E})]})})};export{K as default};
