import{d as h,i as k,r as c,u as E,j as s,q as b,o as g,O as S,P as T,Q as D,n as I}from"./index-DOR4Yorj.js";import{U as o}from"./Inputs-BWd0snBt.js";import{E as y}from"./EditWrapper-B0CVrmnV.js";const U=()=>{const r=h(t=>k(t)),[e,l]=c.useState(r.data),[i,n]=c.useState(e[0]),f=t=>{n({...i,title:t.currentTarget.value})},m=t=>{n({...i,issue:t.currentTarget.value})},p=t=>{n({...i,link:t.currentTarget.value})},d=t=>{n(e[0].id!==t?e[0]:e[1]),l(e.filter(a=>a.id!==t))},x=t=>{!e[0].title.trim()&&!e[0].issue.trim()&&!e[0].link.trim()&&d(e[0].id);const a=e.find(j=>j.id===t);a&&n(a)},v=t=>{t.preventDefault();const a={id:T(),title:"",issue:"",link:""};l([a,...e]),n(a)};c.useEffect(()=>{l(e.map(t=>t.id===i.id?i:t))},[i]);const u=E(),C=t=>{t.preventDefault(),u(D(e)),u(I(""))};return s.jsx(y,{preview:s.jsx(b,{data:e,onRemove:d,onEdit:x,edited:i,children:s.jsx(g,{text:r.title})}),edit:s.jsxs(s.Fragment,{children:[s.jsx(S,{onClick:v,text:"New "+r.title,style:{visibility:i.title.trim()&&i.issue.trim()&&i.link.trim()?"visible":"hidden"}}),s.jsx(o,{label:"title",value:i.title,onChange:f}),s.jsx(o,{label:"issue",value:i.issue,onChange:m}),s.jsx(o,{label:"link",type:"link",value:i.link,onChange:p})]}),onSubmit:C})};export{U as default};
