import{d as V,ax as A,r as n,u as O,j as t,ay as U,o as W,az as l,aA as z,n as B}from"./index-XqE_m-q9.js";import{r as F,a as q,M as G}from"./MonthYearPicker-BG2c3luX.js";import{M as H,E as J}from"./MainEditWrapper-Z77TlRuW.js";import{U as j}from"./Inputs-D1I08rEC.js";import{b as c}from"./index.esm-CXlr8-Yg.js";import{A as K}from"./AutoCompleteCustom-DzOMCqzH.js";import"./button.esm-CGs7GssB.js";import"./inputtext.esm-CLK3QdkL.js";const ne=()=>{const m=V(s=>A(s)),{data:E,editedId:f}=m,P={id:f,projectName:"",link:"",isLink:!0,duration:"",isDuration:!0,isYear:!1,isPresent:!1,technologies:[],degree:"",type:"",description:"<p>Your Description</p>"},[e,a]=n.useState(E.find(s=>s.id===f)||P),[u,y]=n.useState(e.description);n.useEffect(()=>{a({...e,description:u})},[u]);const[i,D]=n.useState(null),{isYear:d,isPresent:r,isLink:o,isDuration:p}=e;n.useEffect(()=>{var s;i&&!e.isPresent&&a({...e,duration:((s=x.current)==null?void 0:s.value)||e.duration})},[i,e.isYear,e.isPresent]),n.useEffect(()=>{var s;i&&e.isPresent&&a({...e,duration:((s=k.current)==null?void 0:s.value)||e.duration})},[i,e.isYear,e.isPresent]);const b=()=>{a({...e,isYear:!d})},T=()=>{a({...e,isLink:!o})},x=n.useRef(null),k=n.useRef(null),R=()=>{a({...e,isPresent:!r})},N=()=>{a({...e,isDuration:!p,duration:""}),L(!p),S(null),v(null)},[Y,v]=n.useState(null),[I,S]=n.useState(null);n.useEffect(()=>{r&&e.duration&&v(F(e.duration)),!r&&e.duration&&S(q(e.duration))},[]),n.useEffect(()=>{!o&&a({...e,link:""})},[o]);const C=O(),w=s=>{s.preventDefault(),C(z({project:e})),C(B(""))},[h,L]=n.useState(!p),[g,M]=n.useState([...e.technologies]);return n.useEffect(()=>{a({...e,technologies:g})},[g]),t.jsx(H,{style:{width:"90%"},onSubmit:w,preview:t.jsx(U,{projectsItem:e,children:t.jsx(W,{text:m.title})}),edit:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:l.columns,children:[t.jsxs("div",{className:l.inputs,children:[t.jsx(j,{label:"project Name",value:e.projectName,onChange:s=>a({...e,projectName:s.currentTarget.value})}),t.jsxs(G,{duration:i,setDuration:D,isYear:d,inputRefRangeDates:x,inputRefSingleDate:k,isPresent:r,rangeValue:I,singleValue:Y,disabled:h,children:[t.jsx(c,{checked:!h,onChange:N,title:"Currently use duration"}),t.jsxs("div",{className:l.checkbox,"data-visible":h?"false":"true",children:[t.jsx(c,{checked:d,onChange:b,title:"Currently only Year"}),t.jsx(c,{checked:r,onChange:R,title:"Currently work here"})]})]})]}),t.jsx("div",{children:t.jsx(K,{selectedSkillsOrTechnologies:g,setSelectedSkillsOrTechnologies:M,label:"technologies"})}),t.jsxs("div",{className:l.inputs,children:[t.jsx(j,{label:"type",value:e.type,onChange:s=>a({...e,type:s.currentTarget.value})}),t.jsxs("div",{className:l.link,children:[t.jsx(j,{label:"link",type:"link",value:e.link,onChange:s=>a({...e,link:s.currentTarget.value}),disabled:!o}),t.jsx(c,{checked:o,onChange:T,title:"Currently add link"})]})]})]}),t.jsx(J,{text:u,setText:y})]})})};export{ne as default};
